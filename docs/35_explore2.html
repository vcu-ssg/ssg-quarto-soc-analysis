<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Exploring instructor measures – Analysis of Teaching</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Analysis of Teaching</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./10_download.html"> 
<span class="menu-text">Sources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./20_clean.html"> 
<span class="menu-text">Clean</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./30_explore.html"> 
<span class="menu-text">Dept measures</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./31_explore.html"> 
<span class="menu-text">Faculty measures</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#columns-in-the-dataframe" id="toc-columns-in-the-dataframe" class="nav-link active" data-scroll-target="#columns-in-the-dataframe">Columns in the dataframe</a></li>
  <li><a href="#college-wide-measures-over-time" id="toc-college-wide-measures-over-time" class="nav-link" data-scroll-target="#college-wide-measures-over-time">College-wide measures over time</a></li>
  <li><a href="#aggregate-measures-over-all-semesters" id="toc-aggregate-measures-over-all-semesters" class="nav-link" data-scroll-target="#aggregate-measures-over-all-semesters">Aggregate measures over all semesters</a></li>
  <li><a href="#instructor-measures-for-spring-2023-and-fall-2023." id="toc-instructor-measures-for-spring-2023-and-fall-2023." class="nav-link" data-scroll-target="#instructor-measures-for-spring-2023-and-fall-2023.">Instructor measures for Spring 2023 and Fall 2023.</a></li>
  <li><a href="#show-summary-table" id="toc-show-summary-table" class="nav-link" data-scroll-target="#show-summary-table">Show summary table</a></li>
  <li><a href="#plot-total-hours-without-colors" id="toc-plot-total-hours-without-colors" class="nav-link" data-scroll-target="#plot-total-hours-without-colors">Plot total hours without colors</a></li>
  <li><a href="#hours-lec-and-non-lec-by-instructor" id="toc-hours-lec-and-non-lec-by-instructor" class="nav-link" data-scroll-target="#hours-lec-and-non-lec-by-instructor">Hours (lec and non-lec) by instructor</a></li>
  <li><a href="#workload-by-instructor-and-non-instructor" id="toc-workload-by-instructor-and-non-instructor" class="nav-link" data-scroll-target="#workload-by-instructor-and-non-instructor">Workload by instructor and non-instructor</a></li>
  <li><a href="#practice-with-multiple-bars" id="toc-practice-with-multiple-bars" class="nav-link" data-scroll-target="#practice-with-multiple-bars">Practice with multiple bars</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Exploring instructor measures</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>For this analysis we’ll be using the <em>stacked_df</em> data frame from the cleaning process.</p>
<p>I haven’t spend much time on this. My effort to date has been spent on developing and documenting the preparing of the data at the instructor level.</p>
<p>Significant effort was also invested in the <a href="https://docs.google.com/spreadsheets/d/1ZK7k8M85CXLof6FdeJYJuGFbfjsOXrCv5mc7OgUInWw/edit#gid=1484314377">corresponding google workbook</a>.</p>
<p><strong>HUYEN</strong> - In the workbook above:</p>
<ul>
<li><p>Here is a <a href="https://docs.google.com/spreadsheets/d/1ZK7k8M85CXLof6FdeJYJuGFbfjsOXrCv5mc7OgUInWw/edit#gid=2030685887">sample figure</a> for the OJS dashboard.</p></li>
<li><p>Here is a <a href="https://docs.google.com/spreadsheets/d/1ZK7k8M85CXLof6FdeJYJuGFbfjsOXrCv5mc7OgUInWw/edit#gid=1484314377">summary table</a> with all the data needed to display.</p></li>
<li><p>You’ll need to <em>recreate</em> the sample table using OJS using the stacked_df.csv file.</p></li>
<li><p>Here is an <a href="https://docs.google.com/spreadsheets/d/1ZK7k8M85CXLof6FdeJYJuGFbfjsOXrCv5mc7OgUInWw/edit#gid=1220455780">example worksheet</a> of the underlying details (the pop-up card). This table shows all instructors, the pop-up should show only the data for the hovered instructor.</p></li>
</ul>
<section id="columns-in-the-dataframe" class="level2">
<h2 class="anchored" data-anchor-id="columns-in-the-dataframe">Columns in the dataframe</h2>
<p>Load the data frame. The OJS code would like slightly different.</p>
<div id="af848f71" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the data frame</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>stacked_df <span class="op">=</span> pd.read_csv(<span class="st">'stacked_df.csv'</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Strip whitespace from column names</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>stacked_df.columns <span class="op">=</span> stacked_df.columns.<span class="bu">str</span>.strip()</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Force types of these columns to be strings</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> [<span class="st">'TERM'</span>,<span class="st">'COURSE'</span>,<span class="st">'SECT'</span>]:</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  stacked_df[col] <span class="op">=</span> stacked_df[col].astype(<span class="bu">str</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># print the columns.  Pandas will display an abbreviated table.</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(stacked_df.columns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Index(['TERM', 'PART_OF_TERM', 'COLLEGE', 'DEPT', 'COURSE', 'SECT', 'CRN',
       'TYPE', 'MIN CREDITS', 'MAX CREDITS',
       ...
       'sum_term_crse_wrkld_a_lec', 'wrkld_a_note', 'wrkld_b_type',
       'sum_term_crse_wrkld_b', 'sum_term_crse_wrkld_b_lec', 'wrkld_b_note',
       'wrkld_c_type', 'sum_term_crse_wrkld_c', 'sum_term_crse_wrkld_c_lec',
       'wrkld_c_note'],
      dtype='object', length=112)</code></pre>
</div>
</div>
</section>
<section id="college-wide-measures-over-time" class="level2">
<h2 class="anchored" data-anchor-id="college-wide-measures-over-time">College-wide measures over time</h2>
<p>Key measures for these data include:</p>
<ul>
<li>Number of Courses : A <em>course</em> is designed by a course number, for example, CMSC 508 or CMSC 210 or CMSC 355. In the table below, we present the sum of unique course numbers.</li>
<li>Number of CRNs : A CRN is a “course reference number”. Often a single course will be coded in Banner using multiple CRNS, one for each unique meeting time/place. The <em>CRN SUM</em> column presents the sum of individual CRNs.</li>
<li>StuMtgSum : <em>number of individual student meetings</em>. Student enroll in CRNs, not courses. The <em>stumtgsum</em> measure represents the sum of students across all CRN. Depending on how a course is coded, this may double count students in an individual course.</li>
<li>Hours Sum : There are several ways to calculate this variable. In general, this is calculated on a PER CRN basis, multiplying the unique headcount in the CRN time the credit-hour value of a course (usually, 2, 3 or 4).</li>
</ul>
<p>The table below shows these key measures accumulated by all semesters in the data set.</p>
<div id="21770071" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create my four desired columns</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># lecture hours and non-lecture hours</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>stacked_df[<span class="st">'sum_term_crse_crn_hours_lec'</span>] <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>stacked_df[<span class="st">'sum_term_crse_crn_hours_non_lec'</span>] <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>stacked_df.loc[stacked_df[<span class="st">'wrkld_sample_type'</span>] <span class="op">==</span> <span class="st">'LEC'</span>, <span class="st">'sum_term_crse_crn_hours_lec'</span>] <span class="op">=</span> stacked_df[<span class="st">'sum_term_crse_crn_hours'</span>]</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>stacked_df.loc[stacked_df[<span class="st">'wrkld_sample_type'</span>] <span class="op">!=</span> <span class="st">'LEC'</span>, <span class="st">'sum_term_crse_crn_hours_non_lec'</span>] <span class="op">=</span> stacked_df[<span class="st">'sum_term_crse_crn_hours'</span>]</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co"># lecture workload and non-lecture workload</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>stacked_df[<span class="st">'sum_term_crse_wrkld_sample_lec'</span>] <span class="op">=</span> stacked_df[<span class="st">'sum_term_crse_wrkld_sample_lec'</span>]</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>stacked_df[<span class="st">'sum_term_crse_wrkld_sample_non_lec'</span>] <span class="op">=</span> stacked_df[<span class="st">'sum_term_crse_wrkld_sample'</span>] <span class="op">-</span> stacked_df[<span class="st">'sum_term_crse_wrkld_sample_lec'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="32ab92e0" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>summary_df <span class="op">=</span> stacked_df.groupby([<span class="st">'TERM'</span>,<span class="st">'period_name'</span>]).agg(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  {<span class="st">'sum_term_crse'</span>:<span class="st">'sum'</span>,</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">'sum_term_crse_crn'</span>:<span class="st">'sum'</span>,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">'sum_term_crse_crn_mtg_students'</span>:<span class="st">'sum'</span>,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">'sum_term_crse_wrkld_sample_lec'</span>:<span class="st">'sum'</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">'sum_term_crse_wrkld_sample'</span>:<span class="st">'sum'</span>,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">'sum_term_crse_crn_hours'</span>:<span class="st">'sum'</span>}).reset_index()</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>Markdown(tabulate(</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  summary_df, </span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  headers<span class="op">=</span>[<span class="st">'Term'</span>,<span class="st">'Term Name'</span>,<span class="st">'Course Sum'</span>,<span class="st">'CRN Sum'</span>,<span class="st">'StuMtg Sum'</span>,<span class="st">'Hours Sum'</span>],</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  numalign<span class="op">=</span><span class="st">"right"</span>,stralign<span class="op">=</span><span class="st">"left"</span>,</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  showindex<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  floatfmt<span class="op">=</span><span class="st">".0f"</span>  <span class="co"># Format numbers without decimals</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display cell-output-markdown" data-execution_count="4">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th></th>
<th></th>
<th style="text-align: right;">Term</th>
<th style="text-align: right;">Term Name</th>
<th style="text-align: right;">Course Sum</th>
<th style="text-align: right;">CRN Sum</th>
<th style="text-align: right;">StuMtg Sum</th>
<th style="text-align: right;">Hours Sum</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>202110</td>
<td>Fall 2020</td>
<td style="text-align: right;">149</td>
<td style="text-align: right;">419</td>
<td style="text-align: right;">7967</td>
<td style="text-align: right;">184</td>
<td style="text-align: right;">248</td>
<td style="text-align: right;">16353</td>
</tr>
<tr class="even">
<td>202120</td>
<td>Spring 2021</td>
<td style="text-align: right;">137</td>
<td style="text-align: right;">445</td>
<td style="text-align: right;">7393</td>
<td style="text-align: right;">147</td>
<td style="text-align: right;">207</td>
<td style="text-align: right;">16518</td>
</tr>
<tr class="odd">
<td>202130</td>
<td>Summer 2021</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">112</td>
<td style="text-align: right;">586</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">1444</td>
</tr>
<tr class="even">
<td>202210</td>
<td>Fall 2021</td>
<td style="text-align: right;">154</td>
<td style="text-align: right;">425</td>
<td style="text-align: right;">7362</td>
<td style="text-align: right;">172</td>
<td style="text-align: right;">228</td>
<td style="text-align: right;">16689</td>
</tr>
<tr class="odd">
<td>202220</td>
<td>Spring 2022</td>
<td style="text-align: right;">146</td>
<td style="text-align: right;">449</td>
<td style="text-align: right;">7327</td>
<td style="text-align: right;">156</td>
<td style="text-align: right;">218</td>
<td style="text-align: right;">16801</td>
</tr>
<tr class="even">
<td>202230</td>
<td>Summer 2022</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">107</td>
<td style="text-align: right;">626</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">1343</td>
</tr>
<tr class="odd">
<td>202310</td>
<td>Fall 2022</td>
<td style="text-align: right;">159</td>
<td style="text-align: right;">438</td>
<td style="text-align: right;">8302</td>
<td style="text-align: right;">157</td>
<td style="text-align: right;">225</td>
<td style="text-align: right;">18385</td>
</tr>
<tr class="even">
<td>202320</td>
<td>Spring 2023</td>
<td style="text-align: right;">146</td>
<td style="text-align: right;">458</td>
<td style="text-align: right;">7690</td>
<td style="text-align: right;">138</td>
<td style="text-align: right;">212</td>
<td style="text-align: right;">17784</td>
</tr>
<tr class="odd">
<td>202330</td>
<td>Summer 2023</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">104</td>
<td style="text-align: right;">561</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">1204</td>
</tr>
<tr class="even">
<td>202410</td>
<td>Fall 2023</td>
<td style="text-align: right;">157</td>
<td style="text-align: right;">454</td>
<td style="text-align: right;">9473</td>
<td style="text-align: right;">164</td>
<td style="text-align: right;">239</td>
<td style="text-align: right;">21222</td>
</tr>
<tr class="odd">
<td>202420</td>
<td>Spring 2024</td>
<td style="text-align: right;">154</td>
<td style="text-align: right;">466</td>
<td style="text-align: right;">8730</td>
<td style="text-align: right;">162</td>
<td style="text-align: right;">240</td>
<td style="text-align: right;">20339</td>
</tr>
<tr class="even">
<td>202430</td>
<td>Summer 2024</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">93</td>
<td style="text-align: right;">557</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">1338</td>
</tr>
<tr class="odd">
<td>202510</td>
<td>Fall 2024</td>
<td style="text-align: right;">164</td>
<td style="text-align: right;">463</td>
<td style="text-align: right;">10284</td>
<td style="text-align: right;">185</td>
<td style="text-align: right;">263</td>
<td style="text-align: right;">23786</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="aggregate-measures-over-all-semesters" class="level2">
<h2 class="anchored" data-anchor-id="aggregate-measures-over-all-semesters">Aggregate measures over all semesters</h2>
<div id="b0aada6c" class="cell" data-execution_count="5">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="35_explore2_files/figure-html/cell-6-output-1.png" width="610" height="513" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="instructor-measures-for-spring-2023-and-fall-2023." class="level2">
<h2 class="anchored" data-anchor-id="instructor-measures-for-spring-2023-and-fall-2023.">Instructor measures for Spring 2023 and Fall 2023.</h2>
<div id="7a57ee6d" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter stacked data frame for the two desired terms and desired department</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> stacked_df[stacked_df[<span class="st">'TERM'</span>].isin([<span class="st">'202320'</span>,<span class="st">'202410'</span>])]</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df[df[<span class="st">'DEPT'</span>].isin([<span class="st">'CMSC'</span>])]</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create summary data frame by instructor for key measures.</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>summary_df <span class="op">=</span> df.groupby([<span class="st">'instructor_name'</span>]).agg({</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">'sum_term_crse'</span>:<span class="st">'sum'</span>,</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">'sum_term_crse_crn_hours'</span>:<span class="st">'sum'</span>,</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">'sum_term_crse_wrkld_sample_lec'</span>:<span class="st">'sum'</span>,</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">'sum_term_crse_wrkld_sample_non_lec'</span>:<span class="st">'sum'</span>,</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">'sum_term_crse_crn_hours_lec'</span>:<span class="st">'sum'</span>,</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">'sum_term_crse_crn_hours_non_lec'</span>:<span class="st">'sum'</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  }).reset_index()</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort in descending order by credit hours</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>summary_df <span class="op">=</span> summary_df.sort_values(by<span class="op">=</span><span class="st">'sum_term_crse_crn_hours'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(summary_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            instructor_name  sum_term_crse  sum_term_crse_crn_hours  \
14               Duke,Debra       6.000000                   2222.0   
31            Sparks,Claire       3.028571                   1573.0   
8       Chaitankar,Vijender       1.500000                   1251.0   
3          Budwell,Caroline       2.358824                   1111.0   
30             Sonmez,Ahmet       2.000000                   1100.0   
18            Gusukuma,Luke       3.985714                   1019.0   
11             Dahlberg,Bob       3.108824                    864.0   
22             Leonard,John       2.608824                    707.0   
15            Ghosh,Preetam       2.299300                    689.0   
10          Cranston,Daniel       2.208030                    670.0   
17              Grove,Ralph       1.285714                    616.0   
12        Damevski,Kostadin       3.763585                    610.5   
5             Bulut,Eyuphan       2.776190                    599.5   
26             Nadeem,Tamer       1.624697                    475.0   
32          Spinola,Rodrigo       1.144538                    300.0   
0               Ahmed,Irfan       2.271522                    259.0   
33  Thomson-McInnes,Bridget       4.660411                    234.0   
7        Cano Rojas,Alberto       2.227871                    221.0   
1              Arodz,Tomasz       2.442157                    207.0   
20            Kurgan,Lukasz       1.585714                    203.0   
23            Luo,Changqing       2.299300                    183.0   
24              Manic,Milos       2.212698                    172.0   
34               Traub,Adam       0.250000                    156.0   
28            Sands,Allison       0.250000                    156.0   
27            Nishi,Manziba       1.000000                    126.0   
6             Byram,Abigail       1.500000                    121.5   
13               Dinh,Thang       2.136601                    110.0   
4              Buffkin,Seth       1.500000                    106.5   
36           Zhou,Hongsheng       2.136601                     89.0   
21                Lee,Aaron       1.000000                     66.0   
9            Cios,Krzysztof       0.669935                     55.0   
25            Mizelle,Erika       0.500000                     39.0   
2             Bennett,Jason       0.500000                     30.0   
19         Krawczyk,Bartosz       1.058824                     27.0   
16            Gill,Satinder       0.050000                     24.0   
29           Shepherd,David       0.027778                     18.0   
35                  Ye,Cang       0.027778                      9.0   

    sum_term_crse_wrkld_sample_lec  sum_term_crse_wrkld_sample_non_lec  \
14                            12.0                            1.333333   
31                             7.5                            0.666667   
8                              3.0                            0.000000   
3                              6.0                            1.333333   
30                             4.5                            1.333333   
18                             6.5                            1.666667   
11                             4.0                            4.666667   
22                             3.0                            3.000000   
15                             3.0                            1.666667   
10                             3.0                            1.000000   
17                             2.5                            0.333333   
12                             2.5                            1.500000   
5                              2.5                            1.166667   
26                             2.5                            2.666667   
32                             1.5                            1.666667   
0                              2.0                            0.666667   
33                             2.0                            2.333333   
7                              2.0                            1.000000   
1                              2.0                            1.000000   
20                             2.0                            0.666667   
23                             2.0                            1.000000   
24                             2.0                            0.666667   
34                             1.0                            0.333333   
28                             1.0                            0.333333   
27                             1.0                            0.000000   
6                              1.5                            0.000000   
13                             2.0                            1.333333   
4                              1.5                            0.000000   
36                             2.0                            0.666667   
21                             1.0                            0.000000   
9                              1.0                            0.666667   
25                             0.5                            0.000000   
2                              0.5                            0.000000   
19                             1.0                            0.333333   
16                             0.0                            1.000000   
29                             0.0                            0.000000   
35                             0.0                            0.000000   

    sum_term_crse_crn_hours_lec  sum_term_crse_crn_hours_non_lec  
14                       1690.0                            532.0  
31                       1265.0                            308.0  
8                        1251.0                              0.0  
3                        1007.0                            104.0  
30                        832.0                            268.0  
18                        721.0                            298.0  
11                        659.0                            205.0  
22                        639.0                             68.0  
15                        591.0                             98.0  
10                        633.0                             37.0  
17                        524.0                             92.0  
12                        555.0                             55.5  
5                         510.0                             89.5  
26                        390.0                             85.0  
32                        261.0                             39.0  
0                         165.0                             94.0  
33                        150.0                             84.0  
7                         189.0                             32.0  
1                         189.0                             18.0  
20                        186.0                             17.0  
23                        117.0                             66.0  
24                        129.0                             43.0  
34                         78.0                             78.0  
28                         78.0                             78.0  
27                        126.0                              0.0  
6                         121.5                              0.0  
13                         78.0                             32.0  
4                         106.5                              0.0  
36                         66.0                             23.0  
21                         66.0                              0.0  
9                          12.0                             43.0  
25                         39.0                              0.0  
2                          30.0                              0.0  
19                         21.0                              6.0  
16                          0.0                             24.0  
29                          0.0                             18.0  
35                          0.0                              9.0  </code></pre>
</div>
</div>
</section>
<section id="show-summary-table" class="level2">
<h2 class="anchored" data-anchor-id="show-summary-table">Show summary table</h2>
<div id="4dddf5c1" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print table</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>Markdown(tabulate(</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  summary_df, </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  headers<span class="op">=</span>[<span class="st">'instructor_name'</span>,<span class="st">'Crses'</span>,<span class="st">'Hours'</span>,<span class="st">'Wrkld LEC'</span>,<span class="st">'Wrkld NON'</span>,<span class="st">'Hours LEC'</span>,<span class="st">'Hours NON'</span>],</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  numalign<span class="op">=</span><span class="st">"right"</span>,stralign<span class="op">=</span><span class="st">"left"</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  showindex<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  floatfmt<span class="op">=</span><span class="st">".1f"</span>  <span class="co"># Format numbers without decimals</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display cell-output-markdown" data-execution_count="7">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">instructor_name</th>
<th style="text-align: right;">Crses</th>
<th style="text-align: right;">Hours</th>
<th style="text-align: right;">Wrkld LEC</th>
<th style="text-align: right;">Wrkld NON</th>
<th style="text-align: right;">Hours LEC</th>
<th style="text-align: right;">Hours NON</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Duke,Debra</td>
<td style="text-align: right;">6.0</td>
<td style="text-align: right;">2222.0</td>
<td style="text-align: right;">12.0</td>
<td style="text-align: right;">1.3</td>
<td style="text-align: right;">1690.0</td>
<td style="text-align: right;">532.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sparks,Claire</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">1573.0</td>
<td style="text-align: right;">7.5</td>
<td style="text-align: right;">0.7</td>
<td style="text-align: right;">1265.0</td>
<td style="text-align: right;">308.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Chaitankar,Vijender</td>
<td style="text-align: right;">1.5</td>
<td style="text-align: right;">1251.0</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">1251.0</td>
<td style="text-align: right;">0.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Budwell,Caroline</td>
<td style="text-align: right;">2.4</td>
<td style="text-align: right;">1111.0</td>
<td style="text-align: right;">6.0</td>
<td style="text-align: right;">1.3</td>
<td style="text-align: right;">1007.0</td>
<td style="text-align: right;">104.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sonmez,Ahmet</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">1100.0</td>
<td style="text-align: right;">4.5</td>
<td style="text-align: right;">1.3</td>
<td style="text-align: right;">832.0</td>
<td style="text-align: right;">268.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Gusukuma,Luke</td>
<td style="text-align: right;">4.0</td>
<td style="text-align: right;">1019.0</td>
<td style="text-align: right;">6.5</td>
<td style="text-align: right;">1.7</td>
<td style="text-align: right;">721.0</td>
<td style="text-align: right;">298.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dahlberg,Bob</td>
<td style="text-align: right;">3.1</td>
<td style="text-align: right;">864.0</td>
<td style="text-align: right;">4.0</td>
<td style="text-align: right;">4.7</td>
<td style="text-align: right;">659.0</td>
<td style="text-align: right;">205.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Leonard,John</td>
<td style="text-align: right;">2.6</td>
<td style="text-align: right;">707.0</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">639.0</td>
<td style="text-align: right;">68.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Ghosh,Preetam</td>
<td style="text-align: right;">2.3</td>
<td style="text-align: right;">689.0</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">1.7</td>
<td style="text-align: right;">591.0</td>
<td style="text-align: right;">98.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cranston,Daniel</td>
<td style="text-align: right;">2.2</td>
<td style="text-align: right;">670.0</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">633.0</td>
<td style="text-align: right;">37.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Grove,Ralph</td>
<td style="text-align: right;">1.3</td>
<td style="text-align: right;">616.0</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">0.3</td>
<td style="text-align: right;">524.0</td>
<td style="text-align: right;">92.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Damevski,Kostadin</td>
<td style="text-align: right;">3.8</td>
<td style="text-align: right;">610.5</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">1.5</td>
<td style="text-align: right;">555.0</td>
<td style="text-align: right;">55.5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Bulut,Eyuphan</td>
<td style="text-align: right;">2.8</td>
<td style="text-align: right;">599.5</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">1.2</td>
<td style="text-align: right;">510.0</td>
<td style="text-align: right;">89.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">Nadeem,Tamer</td>
<td style="text-align: right;">1.6</td>
<td style="text-align: right;">475.0</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">2.7</td>
<td style="text-align: right;">390.0</td>
<td style="text-align: right;">85.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Spinola,Rodrigo</td>
<td style="text-align: right;">1.1</td>
<td style="text-align: right;">300.0</td>
<td style="text-align: right;">1.5</td>
<td style="text-align: right;">1.7</td>
<td style="text-align: right;">261.0</td>
<td style="text-align: right;">39.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Ahmed,Irfan</td>
<td style="text-align: right;">2.3</td>
<td style="text-align: right;">259.0</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">0.7</td>
<td style="text-align: right;">165.0</td>
<td style="text-align: right;">94.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Thomson-McInnes,Bridget</td>
<td style="text-align: right;">4.7</td>
<td style="text-align: right;">234.0</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">2.3</td>
<td style="text-align: right;">150.0</td>
<td style="text-align: right;">84.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Cano Rojas,Alberto</td>
<td style="text-align: right;">2.2</td>
<td style="text-align: right;">221.0</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">189.0</td>
<td style="text-align: right;">32.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Arodz,Tomasz</td>
<td style="text-align: right;">2.4</td>
<td style="text-align: right;">207.0</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">189.0</td>
<td style="text-align: right;">18.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Kurgan,Lukasz</td>
<td style="text-align: right;">1.6</td>
<td style="text-align: right;">203.0</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">0.7</td>
<td style="text-align: right;">186.0</td>
<td style="text-align: right;">17.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Luo,Changqing</td>
<td style="text-align: right;">2.3</td>
<td style="text-align: right;">183.0</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">117.0</td>
<td style="text-align: right;">66.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Manic,Milos</td>
<td style="text-align: right;">2.2</td>
<td style="text-align: right;">172.0</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">0.7</td>
<td style="text-align: right;">129.0</td>
<td style="text-align: right;">43.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Traub,Adam</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: right;">156.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0.3</td>
<td style="text-align: right;">78.0</td>
<td style="text-align: right;">78.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sands,Allison</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: right;">156.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0.3</td>
<td style="text-align: right;">78.0</td>
<td style="text-align: right;">78.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Nishi,Manziba</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">126.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">126.0</td>
<td style="text-align: right;">0.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Byram,Abigail</td>
<td style="text-align: right;">1.5</td>
<td style="text-align: right;">121.5</td>
<td style="text-align: right;">1.5</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">121.5</td>
<td style="text-align: right;">0.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dinh,Thang</td>
<td style="text-align: right;">2.1</td>
<td style="text-align: right;">110.0</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">1.3</td>
<td style="text-align: right;">78.0</td>
<td style="text-align: right;">32.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Buffkin,Seth</td>
<td style="text-align: right;">1.5</td>
<td style="text-align: right;">106.5</td>
<td style="text-align: right;">1.5</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">106.5</td>
<td style="text-align: right;">0.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Zhou,Hongsheng</td>
<td style="text-align: right;">2.1</td>
<td style="text-align: right;">89.0</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">0.7</td>
<td style="text-align: right;">66.0</td>
<td style="text-align: right;">23.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Lee,Aaron</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">66.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">66.0</td>
<td style="text-align: right;">0.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cios,Krzysztof</td>
<td style="text-align: right;">0.7</td>
<td style="text-align: right;">55.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0.7</td>
<td style="text-align: right;">12.0</td>
<td style="text-align: right;">43.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Mizelle,Erika</td>
<td style="text-align: right;">0.5</td>
<td style="text-align: right;">39.0</td>
<td style="text-align: right;">0.5</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">39.0</td>
<td style="text-align: right;">0.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Bennett,Jason</td>
<td style="text-align: right;">0.5</td>
<td style="text-align: right;">30.0</td>
<td style="text-align: right;">0.5</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">30.0</td>
<td style="text-align: right;">0.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Krawczyk,Bartosz</td>
<td style="text-align: right;">1.1</td>
<td style="text-align: right;">27.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0.3</td>
<td style="text-align: right;">21.0</td>
<td style="text-align: right;">6.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Gill,Satinder</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">24.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">24.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Shepherd,David</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">18.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">18.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Ye,Cang</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">9.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">9.0</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="plot-total-hours-without-colors" class="level2">
<h2 class="anchored" data-anchor-id="plot-total-hours-without-colors">Plot total hours without colors</h2>
<div id="94c7c8d5" class="cell" data-execution_count="8">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="35_explore2_files/figure-html/cell-9-output-1.png" width="672" height="449" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="hours-lec-and-non-lec-by-instructor" class="level2">
<h2 class="anchored" data-anchor-id="hours-lec-and-non-lec-by-instructor">Hours (lec and non-lec) by instructor</h2>
<div id="4f89d449" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>summary_df <span class="op">=</span> summary_df.sort_values(by<span class="op">=</span><span class="st">'sum_term_crse_crn_hours_lec'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>instructors <span class="op">=</span> summary_df[<span class="st">'instructor_name'</span>].<span class="bu">str</span>.split(<span class="st">","</span>).<span class="bu">str</span>[<span class="dv">0</span>]</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>lec_hours <span class="op">=</span> summary_df[<span class="st">'sum_term_crse_crn_hours_lec'</span>]</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>non_lec_hours <span class="op">=</span> summary_df[<span class="st">'sum_term_crse_crn_hours_non_lec'</span>]</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co">#bottom = np.zeros(len(instructors))</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> ax.barh(instructors, lec_hours, label<span class="op">=</span><span class="st">'LEC'</span>, color<span class="op">=</span><span class="st">'blue'</span>)</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> ax.barh(instructors, non_lec_hours, left<span class="op">=</span>lec_hours, label<span class="op">=</span><span class="st">'Non-LEC'</span>, color<span class="op">=</span><span class="st">'orange'</span>)</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'Total Hours'</span>)</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">'instructor_name'</span>)</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Instructor Hours by LEC and Non-LEC'</span>)</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>ax.legend()</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>plt.tick_params(axis<span class="op">=</span><span class="st">'y'</span>, labelsize<span class="op">=</span><span class="dv">6</span>)  <span class="co"># Adjust the labelsize as needed</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>plt.gca().invert_yaxis()</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="35_explore2_files/figure-html/cell-10-output-1.png" width="864" height="523" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="workload-by-instructor-and-non-instructor" class="level2">
<h2 class="anchored" data-anchor-id="workload-by-instructor-and-non-instructor">Workload by instructor and non-instructor</h2>
<div id="23f78093" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>summary_df <span class="op">=</span> summary_df.sort_values(by<span class="op">=</span><span class="st">'sum_term_crse_wrkld_sample_lec'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>instructors <span class="op">=</span> summary_df[<span class="st">'instructor_name'</span>].<span class="bu">str</span>.split(<span class="st">","</span>).<span class="bu">str</span>[<span class="dv">0</span>]</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>lec <span class="op">=</span> summary_df[<span class="st">'sum_term_crse_wrkld_sample_lec'</span>]</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>non_lec <span class="op">=</span> summary_df[<span class="st">'sum_term_crse_wrkld_sample_non_lec'</span>]</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co">#bottom = np.zeros(len(instructors))</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> ax.barh(instructors, lec, label<span class="op">=</span><span class="st">'LEC'</span>, color<span class="op">=</span><span class="st">'blue'</span>)</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> ax.barh(instructors, non_lec, left<span class="op">=</span>lec, label<span class="op">=</span><span class="st">'Non-LEC'</span>, color<span class="op">=</span><span class="st">'orange'</span>)</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'Total Hours'</span>)</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">'instructor_name'</span>)</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Instructor Workload by LEC and Non-LEC'</span>)</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>ax.legend()</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>plt.tick_params(axis<span class="op">=</span><span class="st">'y'</span>, labelsize<span class="op">=</span><span class="dv">6</span>)  <span class="co"># Adjust the labelsize as needed</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>plt.gca().invert_yaxis()</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="35_explore2_files/figure-html/cell-11-output-1.png" width="872" height="523" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="practice-with-multiple-bars" class="level2">
<h2 class="anchored" data-anchor-id="practice-with-multiple-bars">Practice with multiple bars</h2>
<div id="a6f9d64d" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> random</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>instructors <span class="op">=</span> [<span class="st">'Instructor '</span> <span class="op">+</span> <span class="bu">chr</span>(<span class="dv">65</span> <span class="op">+</span> i) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">25</span>)]</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>values1 <span class="op">=</span> [random.uniform(<span class="fl">0.</span>, <span class="fl">7.</span>) <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">25</span>)]</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>values2 <span class="op">=</span> [random.uniform(<span class="fl">0.</span>, <span class="dv">7</span>,) <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">25</span>)]</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'instructor_name'</span>: instructors,</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Value1'</span>: values1,</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Value2'</span>: values2,</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a DataFrame</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.sort_values(by<span class="op">=</span><span class="st">'Value2'</span>, ascending<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the figure size</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">4</span>))</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the left subplot (left bar)</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>ax1 <span class="op">=</span> plt.subplot(<span class="dv">121</span>)</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>ax1.barh(df[<span class="st">'instructor_name'</span>], <span class="op">-</span><span class="fl">1.0</span> <span class="op">*</span> df[<span class="st">'Value1'</span>], color<span class="op">=</span><span class="st">'green'</span>, label<span class="op">=</span><span class="st">'Left Bar'</span>)</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>ax1.set_xlim(<span class="op">-</span><span class="dv">7</span>, <span class="dv">0</span>)  <span class="co"># Set x-axis limits</span></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>ax1.set_xlabel(<span class="st">'Values'</span>)</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>ax1.set_title(<span class="st">'Left Bar'</span>)</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>ax1.set_yticklabels([<span class="st">""</span>] <span class="op">*</span> <span class="bu">len</span>(df[<span class="st">'instructor_name'</span>]))</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>ax1.yaxis.tick_right()  <span class="co"># Move y-axis ticks to the right</span></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a><span class="co">#ax1.set_yticklabels([])  # Remove y-axis labels</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove border from the left subplot</span></span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>ax1.spines[<span class="st">'top'</span>].set_visible(<span class="va">False</span>)</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>ax1.spines[<span class="st">'right'</span>].set_visible(<span class="va">False</span>)</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the right subplot (right bar)</span></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>ax2 <span class="op">=</span> plt.subplot(<span class="dv">122</span>)</span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>ax2.barh(df[<span class="st">'instructor_name'</span>], df[<span class="st">'Value2'</span>], color<span class="op">=</span><span class="st">'blue'</span>, label<span class="op">=</span><span class="st">'Right Bar'</span>)</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>ax2.set_xlim(<span class="dv">0</span>, <span class="dv">7</span>)  <span class="co"># Set x-axis limits</span></span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>ax2.set_xlabel(<span class="st">'Values'</span>)</span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>ax2.set_title(<span class="st">'Right Bar'</span>)</span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove border from the right subplot</span></span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>ax2.spines[<span class="st">'top'</span>].set_visible(<span class="va">False</span>)</span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>ax2.spines[<span class="st">'left'</span>].set_visible(<span class="va">False</span>)</span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a><span class="co">#ax2.yaxis.tick_right()  # Move y-axis ticks to the right</span></span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust spacing between subplots</span></span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>plt.tick_params(axis<span class="op">=</span><span class="st">'y'</span>, labelsize<span class="op">=</span><span class="dv">6</span>)  <span class="co"># Adjust the labelsize as needed</span></span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\jdleonard\AppData\Local\Temp\ipykernel_12892\1398099611.py:28: UserWarning:

set_ticklabels() should only be used with a fixed number of ticks, i.e. after set_ticks() or using a FixedLocator.
</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="35_explore2_files/figure-html/cell-12-output-2.png" width="772" height="374" class="figure-img"></p>
</figure>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>